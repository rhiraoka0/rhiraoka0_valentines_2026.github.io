<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Pookie, will you be my valentine?</title>
  <style>
    :root{
      --bg1:#ffd1e8;
      --bg2:#ff9fcf;
      --bg3:#ff7fb8;
      --ink: rgba(255,255,255,.92);
      --shadow: 0 20px 60px rgba(0,0,0,.18);
      --glass: rgba(255,255,255,.18);
      --glass2: rgba(255,255,255,.10);
      --stroke: rgba(255,255,255,.35);
      --yes: #ff4fa0;
      --yes2:#ff79b7;
      --no:#ffffff;
      --noInk:#ff2a7f;
      --easeOut: cubic-bezier(.16, 1, .3, 1);
      --easeInOut: cubic-bezier(.76, 0, .24, 1);
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body{
      margin:0;
      font-family: ui-rounded, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color: var(--ink);
      overflow: hidden;
      background: radial-gradient(120% 120% at 20% 10%, var(--bg1) 0%, transparent 55%),
                  radial-gradient(120% 120% at 80% 0%, var(--bg2) 0%, transparent 55%),
                  radial-gradient(120% 140% at 50% 100%, var(--bg3) 0%, #ff5aa8 60%, #ff3f8f 100%);
      transition: filter 900ms var(--easeInOut);
    }

    body.warm{
      filter: hue-rotate(-20deg) saturate(1.12) brightness(1.03);
    }

    .stage{
      position: relative;
      width: 100%;
      height: 100%;
      display: grid;
      place-items: center;
      padding: 4vmin;
    }

    .card{
      position: relative;
      width: min(92vw, 42rem);
      padding: clamp(1.25rem, 4.2vmin, 2.2rem);
      border-radius: clamp(18px, 3.2vmin, 28px);
      background: linear-gradient(180deg, var(--glass), var(--glass2));
      border: 1px solid var(--stroke);
      box-shadow: var(--shadow);
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
    }

    .hidden{ display:none; }

    .title{
      text-align: center;
      font-size: clamp(1.8rem, 5.8vmin, 3.2rem);
      line-height: 1.05;
      margin: 0 0 1rem 0;
    }

    .btnRow{
      display:flex;
      gap: 1rem;
      justify-content:center;
      flex-wrap: wrap;
      margin-top: .7rem;
    }

    button{
      border:none;
      cursor:pointer;
      font-weight: 800;
      font-size: clamp(1rem, 3.4vmin, 1.25rem);
      padding: 1rem 1.5rem;
      border-radius: 999px;
      position:relative;
      z-index:2;
    }

    .yes{
      color: #fff;
      background: linear-gradient(135deg, var(--yes), var(--yes2));
    }

    .no{
      color: var(--noInk);
      background: rgba(255,255,255,.88);
      z-index:3;
    }

    .yes.shake{
      animation: yesShake 420ms var(--easeInOut) both;
    }
    @keyframes yesShake{
      0%{ transform: translate3d(0,0,0); }
      25%{ transform: translate3d(-6px, 4px, 0); }
      50%{ transform: translate3d(6px, -4px, 0); }
      75%{ transform: translate3d(-4px, 2px, 0); }
      100%{ transform: translate3d(0,0,0); }
    }

    .loveScene{
      position:absolute;
      inset: 0;
      display:grid;
      place-items: center;
      opacity: 0;
      pointer-events:none;
    }
    .loveScene.show{
      opacity: 1;
      transition: opacity 600ms var(--easeOut);
    }

    .finalMessage{
      position:absolute;
      top:5%;
      width:90%;
      max-width:700px;
      text-align:center;
      font-size: clamp(1rem, 2.8vmin, 1.3rem);
      font-weight:600;
      line-height:1.4;
    }

    .couple{
      position: relative;
      display:flex;
      align-items:center;
      justify-content:center;
      gap: 4vmin;
    }

    .person{
      width: clamp(120px, 28vw, 260px);
      object-fit: contain;
      opacity: 0;
      transition: transform 1000ms var(--easeOut), opacity 600ms var(--easeOut);
    }

    .me{ transform: translateX(-40vw); }
    .her{ transform: translateX(40vw); }

    .loveScene.go .me,
    .loveScene.go .her{
      opacity:1;
      transform: translateX(0);
    }

    .heartBurst{
      position:absolute;
      width:60px;
      height:60px;
      background:pink;
      transform: rotate(45deg);
      opacity:0;
    }
    .heartBurst:before,
    .heartBurst:after{
      content:"";
      position:absolute;
      width:60px;
      height:60px;
      background:pink;
      border-radius:50%;
    }
    .heartBurst:before{ top:-30px; left:0; }
    .heartBurst:after{ left:-30px; top:0; }

    .heartBurst.show{
      opacity:1;
      animation: pop 600ms ease-out forwards;
    }
    @keyframes pop{
      from{ transform: scale(0.5) rotate(45deg); }
      to{ transform: scale(1.2) rotate(45deg); }
    }

    .finalText{
      position: absolute;
      bottom: 2rem;
      width:100%;
      text-align:center;
      font-size: clamp(1.4rem, 5.2vmin, 2.4rem);
      font-weight:900;
      opacity:0;
    }
    .finalText.show{ opacity:1; }

    .poggers{
      position:absolute;
      inset:0;
      pointer-events:none;
      display:none;
      overflow:hidden;
    }
    .poggers.show{ display:block; }
    .pog{
      position:absolute;
      font-weight:900;
      font-size: clamp(1rem, 4vmin, 2rem);
      color: rgba(255,255,255,.15);
      animation: pogFloat 10s linear infinite;
      white-space:nowrap;
    }
    @keyframes pogFloat{
      from{ transform: translateY(110vh); }
      to{ transform: translateY(-20vh); }
    }

  </style>
</head>

<body>
  <div class="stage">
    <div class="card" id="preCard">
      <h1 class="title">
        I have a question for the prettiest girl I've ever seen,
        are you her? (Don't click yes if you're not or you will explode)
      </h1>
      <div class="btnRow">
        <button class="yes" id="preYes">YES üíñ</button>
        <button class="no">NO üò¢</button>
      </div>
    </div>

    <div class="card hidden" id="card">
      <h1 class="title" id="title">Pookie, will you be my valentine?</h1>
      <div class="btnRow">
        <button class="yes" id="yesBtn">YES üíñ</button>
        <button class="no" id="noBtn">NO üò¢</button>
      </div>
    </div>

    <div class="loveScene" id="loveScene">
      <div class="finalMessage">
        Thank you for accepting my valentine's day invite. I will pick you up for our dinner reservation at 8:10pm. Dress pretty and elegantly. You can expect flowers, hugs and lots of kisses.
      </div>
      <div class="couple">
        <img class="person me" src="me.png" alt="Me">
        <div class="heartBurst" id="heart"></div>
        <img class="person her" src="her.png" alt="Her">
      </div>
      <div class="finalText" id="finalText">
        Best decision of your life ‚ù§Ô∏è te amo much√≠simo my pookie dookie
      </div>
      <div class="poggers" id="poggers"></div>
    </div>
  </div>

<audio id="yesAudio">
  <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_b7fa3a0f3c.mp3" type="audio/mpeg">
</audio>

<canvas id="confettiCanvas" style="position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;"></canvas>

<script>
(function(){
  const preCard = document.getElementById('preCard');
  const card = document.getElementById('card');
  const preYes = document.getElementById('preYes');
  const yesBtn = document.getElementById('yesBtn');
  const noBtn = document.getElementById('noBtn');
  const loveScene = document.getElementById('loveScene');
  const finalText = document.getElementById('finalText');
  const title = document.getElementById('title');
  const heart = document.getElementById('heart');
  const audio = document.getElementById('yesAudio');
  const poggers = document.getElementById('poggers');

  const messages = [
    "please my pookie dookie chocolate chip cookie",
    "be serious honeybun",
    "cmon pook im being serious",
    "imma give u a tas tas if u keep playing with me dawg",
    ":(",
    "say yes rn"
  ];
  let msgIndex = 0;

  preYes.onclick = () => {
    preCard.classList.add('hidden');
    card.classList.remove('hidden');
  };

  noBtn.onclick = () => {
    yesBtn.classList.remove('shake');
    void yesBtn.offsetWidth;
    yesBtn.classList.add('shake');
    title.textContent = messages[msgIndex % messages.length];
    msgIndex++;
  };

  yesBtn.onclick = () => {
    audio.play().catch(()=>{});
    card.classList.add('hidden');
    document.body.classList.add('warm');
    loveScene.classList.add('show');
    setTimeout(()=> {
      loveScene.classList.add('go');
      heart.classList.add('show');
      launchCannons();
      showPoggers();
    }, 200);
    finalText.classList.add('show');
  };

  const canvas = document.getElementById("confettiCanvas");
  const ctx = canvas.getContext("2d");
  function resize(){ canvas.width=innerWidth; canvas.height=innerHeight; }
  resize();
  window.addEventListener("resize",resize);

  let particles=[];

  function launchCannons(){
    shoot(0, canvas.height, 1);
    shoot(canvas.width, canvas.height, -1);
    requestAnimationFrame(update);
  }

  function shoot(x,y,dir){
    for(let i=0;i<120;i++){
      const angle = (Math.random()*Math.PI/2) + (dir===1 ? -Math.PI/2 : -Math.PI);
      const speed = Math.random()*8+6;
      particles.push({
        x,y,
        vx: Math.cos(angle)*speed,
        vy: Math.sin(angle)*speed,
        g:0.2,
        color:`hsl(${Math.random()*360},100%,60%)`,
        size:Math.random()*6+4
      });
    }
  }

  function update(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    particles.forEach((p,i)=>{
      p.vy+=p.g;
      p.x+=p.vx;
      p.y+=p.vy;
      ctx.fillStyle=p.color;
      ctx.fillRect(p.x,p.y,p.size,p.size);
      if(p.y>canvas.height) particles.splice(i,1);
    });
    if(particles.length>0) requestAnimationFrame(update);
  }

  function showPoggers(){
    poggers.classList.add('show');
    for(let i=0;i<25;i++){
      const p=document.createElement('div');
      p.className="pog";
      p.textContent="POGGERS";
      p.style.left=Math.random()*100+"vw";
      p.style.animationDuration=8+Math.random()*8+"s";
      poggers.appendChild(p);
    }
  }

})();
</script>

</body>
</html>
